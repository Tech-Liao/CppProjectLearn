==================
WARNING: ThreadSanitizer: double lock of a mutex (pid=78339)
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::lock_guard<std::mutex>::lock_guard(std::mutex&) /usr/include/c++/10/bits/std_mutex.h:159 (SingleLog+0x8a0c)
    #4 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:128 (SingleLog+0x7ad4)
    #5 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Location is global 'Logger::instance()::inst' of size 696 at 0xaaaaaaac3020 (SingleLog+0x000000023228)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

SUMMARY: ThreadSanitizer: double lock of a mutex /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 in __gthread_mutex_lock
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Write of size 8 at 0xaaaaaaac32c0 by thread T1 (mutexes: write M13):
    #0 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:146 (SingleLog+0x7d54)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous read of size 8 at 0xaaaaaaac32c0 by main thread (mutexes: write M13):
    #0 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b04)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #2 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Location is global 'Logger::instance()::inst' of size 696 at 0xaaaaaaac3020 (SingleLog+0x0000000232c0)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:146 in AsyncQueue::swapBuffer()
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xaaaaaaac3290 by thread T1 (mutexes: write M13):
    #0 __gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > const*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >::__normal_iterator(std::unique_ptr<LogEntry, std::default_delete<LogEntry> > const* const&) /usr/include/c++/10/bits/stl_iterator.h:996 (SingleLog+0xb358)
    #1 std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::begin() const /usr/include/c++/10/bits/stl_vector.h:821 (SingleLog+0xa57c)
    #2 std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::empty() const /usr/include/c++/10/bits/stl_vector.h:1008 (SingleLog+0x95a4)
    #3 operator() /root/code/C++/MyLog/src/Log.cpp:143 (SingleLog+0x7c30)
    #4 wait_until<std::chrono::_V2::steady_clock, std::chrono::duration<long int, std::ratio<1, 1000000000> >, AsyncQueue::swapBuffer()::<lambda()> > /usr/include/c++/10/condition_variable:157 (SingleLog+0x810c)
    #5 wait_for<long int, std::ratio<1, 1000>, AsyncQueue::swapBuffer()::<lambda()> > /usr/include/c++/10/condition_variable:185 (SingleLog+0x806c)
    #6 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:140 (SingleLog+0x7d0c)
    #7 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #8 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #9 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #10 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #11 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #12 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #13 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xaaaaaaac3290 by main thread (mutexes: write M13):
    #0 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_realloc_insert<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(__gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:502 (SingleLog+0xa2bc)
    #1 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::emplace_back<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x93f0)
    #2 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b40)
    #3 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Location is global 'Logger::instance()::inst' of size 696 at 0xaaaaaaac3020 (SingleLog+0x000000023290)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/10/bits/stl_iterator.h:996 in __gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > const*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >::__normal_iterator(std::unique_ptr<LogEntry, std::default_delete<LogEntry> > const* const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xaaaaaaac3298 by thread T1 (mutexes: write M13):
    #0 __gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > const*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >::__normal_iterator(std::unique_ptr<LogEntry, std::default_delete<LogEntry> > const* const&) /usr/include/c++/10/bits/stl_iterator.h:996 (SingleLog+0xb358)
    #1 std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::end() const /usr/include/c++/10/bits/stl_vector.h:839 (SingleLog+0xa608)
    #2 std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::empty() const /usr/include/c++/10/bits/stl_vector.h:1008 (SingleLog+0x95b0)
    #3 operator() /root/code/C++/MyLog/src/Log.cpp:143 (SingleLog+0x7c30)
    #4 wait_until<std::chrono::_V2::steady_clock, std::chrono::duration<long int, std::ratio<1, 1000000000> >, AsyncQueue::swapBuffer()::<lambda()> > /usr/include/c++/10/condition_variable:157 (SingleLog+0x810c)
    #5 wait_for<long int, std::ratio<1, 1000>, AsyncQueue::swapBuffer()::<lambda()> > /usr/include/c++/10/condition_variable:185 (SingleLog+0x806c)
    #6 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:140 (SingleLog+0x7d0c)
    #7 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #8 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #9 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #10 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #11 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #12 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #13 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xaaaaaaac3298 by main thread (mutexes: write M13):
    #0 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_realloc_insert<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(__gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:503 (SingleLog+0xa2d4)
    #1 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::emplace_back<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x93f0)
    #2 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b40)
    #3 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Location is global 'Logger::instance()::inst' of size 696 at 0xaaaaaaac3020 (SingleLog+0x000000023298)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/10/bits/stl_iterator.h:996 in __gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > const*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >::__normal_iterator(std::unique_ptr<LogEntry, std::default_delete<LogEntry> > const* const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xaaaaaaac32a0 by thread T1 (mutexes: write M13):
    #0 std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_Vector_impl_data::_Vector_impl_data(std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_Vector_impl_data&&) /usr/include/c++/10/bits/stl_vector.h:104 (SingleLog+0x9b7c)
    #1 std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_Vector_impl::_Vector_impl(std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_Vector_impl&&) /usr/include/c++/10/bits/stl_vector.h:144 (SingleLog+0x8d38)
    #2 std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_Vector_base(std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >&&) /usr/include/c++/10/bits/stl_vector.h:308 (SingleLog+0x877c)
    #3 std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::vector(std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >&&) /usr/include/c++/10/bits/stl_vector.h:572 (SingleLog+0x87bc)
    #4 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:147 (SingleLog+0x7d90)
    #5 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #6 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #7 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #8 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #9 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #10 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #11 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xaaaaaaac32a0 by main thread (mutexes: write M13):
    #0 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_realloc_insert<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(__gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:504 (SingleLog+0xa2fc)
    #1 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::emplace_back<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x93f0)
    #2 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b40)
    #3 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Location is global 'Logger::instance()::inst' of size 696 at 0xaaaaaaac3020 (SingleLog+0x0000000232a0)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/10/bits/stl_vector.h:104 in std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_Vector_impl_data::_Vector_impl_data(std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_Vector_impl_data&&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xffffefa003d0 by thread T1:
    #0 std::__uniq_ptr_impl<LogEntry, std::default_delete<LogEntry> >::_M_ptr() const /usr/include/c++/10/bits/unique_ptr.h:173 (SingleLog+0xabcc)
    #1 std::unique_ptr<LogEntry, std::default_delete<LogEntry> >::get() const /usr/include/c++/10/bits/unique_ptr.h:422 (SingleLog+0x9ca8)
    #2 std::unique_ptr<LogEntry, std::default_delete<LogEntry> >::operator*() const /usr/include/c++/10/bits/unique_ptr.h:408 (SingleLog+0x8fac)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72dc)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xffffefa003d0 by main thread (mutexes: write M13):
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 __gnu_cxx::new_allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >::allocate(unsigned long, void const*) /usr/include/c++/10/ext/new_allocator.h:121 (SingleLog+0xc2e0)
    #2 std::allocator_traits<std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::allocate(std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&, unsigned long) /usr/include/c++/10/bits/alloc_traits.h:460 (SingleLog+0xbab4)
    #3 std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_allocate(unsigned long) /usr/include/c++/10/bits/stl_vector.h:346 (SingleLog+0xb1c8)
    #4 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_realloc_insert<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(__gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:440 (SingleLog+0xa108)
    #5 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::emplace_back<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x93f0)
    #6 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b40)
    #7 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #8 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Location is heap block of size 8 at 0xffffefa003d0 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 __gnu_cxx::new_allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >::allocate(unsigned long, void const*) /usr/include/c++/10/ext/new_allocator.h:121 (SingleLog+0xc2e0)
    #2 std::allocator_traits<std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::allocate(std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&, unsigned long) /usr/include/c++/10/bits/alloc_traits.h:460 (SingleLog+0xbab4)
    #3 std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_allocate(unsigned long) /usr/include/c++/10/bits/stl_vector.h:346 (SingleLog+0xb1c8)
    #4 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_realloc_insert<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(__gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:440 (SingleLog+0xa108)
    #5 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::emplace_back<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x93f0)
    #6 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b40)
    #7 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #8 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/10/bits/unique_ptr.h:173 in std::__uniq_ptr_impl<LogEntry, std::default_delete<LogEntry> >::_M_ptr() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3003c00 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3003c00 by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Location is heap block of size 296 at 0xfffff3003c00 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3003c10 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3003c10 by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Location is heap block of size 296 at 0xfffff3003c00 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3003c18 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3003c18 by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Location is heap block of size 296 at 0xfffff3003c00 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3003c20 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 4 at 0xfffff3003c20 by main thread:
    #0 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:53 (SingleLog+0x74c8)
    #1 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Location is heap block of size 296 at 0xfffff3003c00 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 1 at 0xfffff3003c24 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 1 at 0xfffff3003c24 by main thread:
    #0 vsnprintf ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:1664 (libtsan.so.0+0x5836c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:57 (SingleLog+0x7534)
    #2 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Location is heap block of size 296 at 0xfffff3003c00 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3003c28 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3003c28 by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Location is heap block of size 296 at 0xfffff3003c00 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e3c)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Write of size 8 at 0xffffece03f20 by thread T3 (mutexes: write M13):
    #0 std::_Head_base<0ul, LogEntry*, false>::_Head_base<LogEntry*>(LogEntry*&&) /usr/include/c++/10/tuple:143 (SingleLog+0xaf38)
    #1 std::_Tuple_impl<0ul, LogEntry*, std::default_delete<LogEntry> >::_Tuple_impl(std::_Tuple_impl<0ul, LogEntry*, std::default_delete<LogEntry> >&&) /usr/include/c++/10/tuple:247 (SingleLog+0x9f54)
    #2 std::tuple<LogEntry*, std::default_delete<LogEntry> >::tuple(std::tuple<LogEntry*, std::default_delete<LogEntry> >&&) /usr/include/c++/10/tuple:1013 (SingleLog+0x919c)
    #3 std::__uniq_ptr_impl<LogEntry, std::default_delete<LogEntry> >::__uniq_ptr_impl(std::__uniq_ptr_impl<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/unique_ptr.h:162 (SingleLog+0x91ec)
    #4 std::__uniq_ptr_data<LogEntry, std::default_delete<LogEntry>, true, true>::__uniq_ptr_data(std::__uniq_ptr_data<LogEntry, std::default_delete<LogEntry>, true, true>&&) /usr/include/c++/10/bits/unique_ptr.h:211 (SingleLog+0x8838)
    #5 std::unique_ptr<LogEntry, std::default_delete<LogEntry> >::unique_ptr(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/unique_ptr.h:327 (SingleLog+0x8878)
    #6 void __gnu_cxx::new_allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >::construct<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0xafa4)
    #7 void std::allocator_traits<std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::construct<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x9fbc)
    #8 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::emplace_back<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x939c)
    #9 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b40)
    #10 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #11 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #12 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #13 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #14 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #15 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #16 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #17 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xffffece03f20 by thread T2 (mutexes: write M13):
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 __gnu_cxx::new_allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >::allocate(unsigned long, void const*) /usr/include/c++/10/ext/new_allocator.h:121 (SingleLog+0xc2e0)
    #2 std::allocator_traits<std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::allocate(std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&, unsigned long) /usr/include/c++/10/bits/alloc_traits.h:460 (SingleLog+0xbab4)
    #3 std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_allocate(unsigned long) /usr/include/c++/10/bits/stl_vector.h:346 (SingleLog+0xb1c8)
    #4 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_realloc_insert<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(__gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:440 (SingleLog+0xa108)
    #5 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::emplace_back<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x93f0)
    #6 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b40)
    #7 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #8 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #9 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #10 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #11 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #12 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #13 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #14 <null> <null> (libstdc++.so.6+0xccf98)

  Location is heap block of size 1024 at 0xffffece03c00 allocated by thread T2:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 __gnu_cxx::new_allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >::allocate(unsigned long, void const*) /usr/include/c++/10/ext/new_allocator.h:121 (SingleLog+0xc2e0)
    #2 std::allocator_traits<std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::allocate(std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&, unsigned long) /usr/include/c++/10/bits/alloc_traits.h:460 (SingleLog+0xbab4)
    #3 std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_allocate(unsigned long) /usr/include/c++/10/bits/stl_vector.h:346 (SingleLog+0xb1c8)
    #4 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_realloc_insert<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(__gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:440 (SingleLog+0xa108)
    #5 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::emplace_back<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x93f0)
    #6 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b40)
    #7 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #8 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #9 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #10 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #11 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #12 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #13 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #14 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T3 (tid=78344, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

  Thread T2 (tid=78343, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/10/tuple:143 in std::_Head_base<0ul, LogEntry*, false>::_Head_base<LogEntry*>(LogEntry*&&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xffffece03c00 by thread T3 (mutexes: write M13):
    #0 std::_Head_base<0ul, LogEntry*, false>::_Head_base<LogEntry*>(LogEntry*&&) /usr/include/c++/10/tuple:143 (SingleLog+0xaf2c)
    #1 std::_Tuple_impl<0ul, LogEntry*, std::default_delete<LogEntry> >::_Tuple_impl(std::_Tuple_impl<0ul, LogEntry*, std::default_delete<LogEntry> >&&) /usr/include/c++/10/tuple:247 (SingleLog+0x9f54)
    #2 std::tuple<LogEntry*, std::default_delete<LogEntry> >::tuple(std::tuple<LogEntry*, std::default_delete<LogEntry> >&&) /usr/include/c++/10/tuple:1013 (SingleLog+0x919c)
    #3 std::__uniq_ptr_impl<LogEntry, std::default_delete<LogEntry> >::__uniq_ptr_impl(std::__uniq_ptr_impl<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/unique_ptr.h:162 (SingleLog+0x91ec)
    #4 std::__uniq_ptr_data<LogEntry, std::default_delete<LogEntry>, true, true>::__uniq_ptr_data(std::__uniq_ptr_data<LogEntry, std::default_delete<LogEntry>, true, true>&&) /usr/include/c++/10/bits/unique_ptr.h:211 (SingleLog+0x8838)
    #5 std::unique_ptr<LogEntry, std::default_delete<LogEntry> >::unique_ptr(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/unique_ptr.h:327 (SingleLog+0x8878)
    #6 void __gnu_cxx::new_allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >::construct<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0xafa4)
    #7 void std::allocator_traits<std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::construct<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x9fbc)
    #8 void std::__relocate_object_a<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&) /usr/include/c++/10/bits/stl_uninitialized.h:988 (SingleLog+0xca70)
    #9 std::unique_ptr<LogEntry, std::default_delete<LogEntry> >* std::__relocate_a_1<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&) /usr/include/c++/10/bits/stl_uninitialized.h:1026 (SingleLog+0xc82c)
    #10 std::unique_ptr<LogEntry, std::default_delete<LogEntry> >* std::__relocate_a<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&) /usr/include/c++/10/bits/stl_uninitialized.h:1040 (SingleLog+0xc374)
    #11 std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_S_do_relocate(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&, std::integral_constant<bool, true>) /usr/include/c++/10/bits/stl_vector.h:456 (SingleLog+0xbb2c)
    #12 std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_S_relocate(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&) /usr/include/c++/10/bits/stl_vector.h:469 (SingleLog+0xb244)
    #13 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_realloc_insert<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(__gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:461 (SingleLog+0xa188)
    #14 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::emplace_back<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x93f0)
    #15 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b40)
    #16 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #17 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #18 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #19 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #20 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #21 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #22 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #23 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xffffece03c00 by thread T2 (mutexes: write M13):
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 __gnu_cxx::new_allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >::allocate(unsigned long, void const*) /usr/include/c++/10/ext/new_allocator.h:121 (SingleLog+0xc2e0)
    #2 std::allocator_traits<std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::allocate(std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&, unsigned long) /usr/include/c++/10/bits/alloc_traits.h:460 (SingleLog+0xbab4)
    #3 std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_allocate(unsigned long) /usr/include/c++/10/bits/stl_vector.h:346 (SingleLog+0xb1c8)
    #4 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_realloc_insert<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(__gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:440 (SingleLog+0xa108)
    #5 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::emplace_back<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x93f0)
    #6 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b40)
    #7 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #8 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #9 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #10 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #11 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #12 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #13 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #14 <null> <null> (libstdc++.so.6+0xccf98)

  Location is heap block of size 1024 at 0xffffece03c00 allocated by thread T2:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 __gnu_cxx::new_allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >::allocate(unsigned long, void const*) /usr/include/c++/10/ext/new_allocator.h:121 (SingleLog+0xc2e0)
    #2 std::allocator_traits<std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::allocate(std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&, unsigned long) /usr/include/c++/10/bits/alloc_traits.h:460 (SingleLog+0xbab4)
    #3 std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_allocate(unsigned long) /usr/include/c++/10/bits/stl_vector.h:346 (SingleLog+0xb1c8)
    #4 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_realloc_insert<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(__gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:440 (SingleLog+0xa108)
    #5 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::emplace_back<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x93f0)
    #6 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b40)
    #7 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #8 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #9 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #10 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #11 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #12 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #13 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #14 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T3 (tid=78344, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

  Thread T2 (tid=78343, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/10/tuple:143 in std::_Head_base<0ul, LogEntry*, false>::_Head_base<LogEntry*>(LogEntry*&&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xffffeb003800 by thread T1:
    #0 std::__uniq_ptr_impl<LogEntry, std::default_delete<LogEntry> >::_M_ptr() const /usr/include/c++/10/bits/unique_ptr.h:173 (SingleLog+0xabcc)
    #1 std::unique_ptr<LogEntry, std::default_delete<LogEntry> >::get() const /usr/include/c++/10/bits/unique_ptr.h:422 (SingleLog+0x9ca8)
    #2 std::unique_ptr<LogEntry, std::default_delete<LogEntry> >::operator*() const /usr/include/c++/10/bits/unique_ptr.h:408 (SingleLog+0x8fac)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72dc)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xffffeb003800 by thread T3 (mutexes: write M13):
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 __gnu_cxx::new_allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >::allocate(unsigned long, void const*) /usr/include/c++/10/ext/new_allocator.h:121 (SingleLog+0xc2e0)
    #2 std::allocator_traits<std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::allocate(std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&, unsigned long) /usr/include/c++/10/bits/alloc_traits.h:460 (SingleLog+0xbab4)
    #3 std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_allocate(unsigned long) /usr/include/c++/10/bits/stl_vector.h:346 (SingleLog+0xb1c8)
    #4 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_realloc_insert<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(__gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:440 (SingleLog+0xa108)
    #5 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::emplace_back<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x93f0)
    #6 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b40)
    #7 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #8 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #9 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #10 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #11 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #12 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #13 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #14 <null> <null> (libstdc++.so.6+0xccf98)

  Location is heap block of size 2048 at 0xffffeb003800 allocated by thread T3:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 __gnu_cxx::new_allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >::allocate(unsigned long, void const*) /usr/include/c++/10/ext/new_allocator.h:121 (SingleLog+0xc2e0)
    #2 std::allocator_traits<std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::allocate(std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&, unsigned long) /usr/include/c++/10/bits/alloc_traits.h:460 (SingleLog+0xbab4)
    #3 std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_allocate(unsigned long) /usr/include/c++/10/bits/stl_vector.h:346 (SingleLog+0xb1c8)
    #4 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_realloc_insert<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(__gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:440 (SingleLog+0xa108)
    #5 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::emplace_back<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x93f0)
    #6 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b40)
    #7 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #8 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #9 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #10 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #11 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #12 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #13 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #14 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T3 (tid=78344, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/10/bits/unique_ptr.h:173 in std::__uniq_ptr_impl<LogEntry, std::default_delete<LogEntry> >::_M_ptr() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3007e40 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3007e40 by thread T2:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Location is heap block of size 296 at 0xfffff3007e40 allocated by thread T2:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T2 (tid=78343, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3007e50 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3007e50 by thread T2:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Location is heap block of size 296 at 0xfffff3007e40 allocated by thread T2:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T2 (tid=78343, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3007e58 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3007e58 by thread T2:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Location is heap block of size 296 at 0xfffff3007e40 allocated by thread T2:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T2 (tid=78343, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3007e60 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3007e60 by thread T2:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Location is heap block of size 296 at 0xfffff3007e40 allocated by thread T2:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T2 (tid=78343, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff30076e0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 4 at 0xfffff30076e0 by thread T2:
    #0 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:53 (SingleLog+0x74c8)
    #1 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #2 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #3 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #4 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #5 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #6 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Location is heap block of size 296 at 0xfffff30076c0 allocated by thread T2:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T2 (tid=78343, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 1 at 0xfffff30076e4 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 1 at 0xfffff30076e4 by thread T2:
    #0 vsnprintf ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:1664 (libtsan.so.0+0x5836c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:57 (SingleLog+0x7534)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Location is heap block of size 296 at 0xfffff30076c0 allocated by thread T2:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T2 (tid=78343, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xffffef400000 by thread T1:
    #0 std::__uniq_ptr_impl<LogEntry, std::default_delete<LogEntry> >::_M_ptr() const /usr/include/c++/10/bits/unique_ptr.h:173 (SingleLog+0xabcc)
    #1 std::unique_ptr<LogEntry, std::default_delete<LogEntry> >::get() const /usr/include/c++/10/bits/unique_ptr.h:422 (SingleLog+0x9ca8)
    #2 std::unique_ptr<LogEntry, std::default_delete<LogEntry> >::operator*() const /usr/include/c++/10/bits/unique_ptr.h:408 (SingleLog+0x8fac)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72dc)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xffffef400000 by main thread:
    [failed to restore the stack]

  Location is heap block of size 32768 at 0xffffef400000 allocated by main thread:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 __gnu_cxx::new_allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >::allocate(unsigned long, void const*) /usr/include/c++/10/ext/new_allocator.h:121 (SingleLog+0xc2e0)
    #2 std::allocator_traits<std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::allocate(std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >&, unsigned long) /usr/include/c++/10/bits/alloc_traits.h:460 (SingleLog+0xbab4)
    #3 std::_Vector_base<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_allocate(unsigned long) /usr/include/c++/10/bits/stl_vector.h:346 (SingleLog+0xb1c8)
    #4 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::_M_realloc_insert<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(__gnu_cxx::__normal_iterator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >*, std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > > >, std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:440 (SingleLog+0xa108)
    #5 void std::vector<std::unique_ptr<LogEntry, std::default_delete<LogEntry> >, std::allocator<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > > >::emplace_back<std::unique_ptr<LogEntry, std::default_delete<LogEntry> > >(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >&&) /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x93f0)
    #6 AsyncQueue::push(std::unique_ptr<LogEntry, std::default_delete<LogEntry> >) /root/code/C++/MyLog/src/Log.cpp:131 (SingleLog+0x7b40)
    #7 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:61 (SingleLog+0x7560)
    #8 Test_TimestampUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:96 (SingleLog+0x2d98)
    #9 main /root/code/C++/MyLog/test/test_singlelog.cpp:110 (SingleLog+0x2e50)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

SUMMARY: ThreadSanitizer: data race /usr/include/c++/10/bits/unique_ptr.h:173 in std::__uniq_ptr_impl<LogEntry, std::default_delete<LogEntry> >::_M_ptr() const
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff301ba80 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff301ba80 by thread T5:
    [failed to restore the stack]

  Location is heap block of size 296 at 0xfffff301ba80 allocated by thread T5:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T5 (tid=78366, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x305c)
    #5 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff301ba90 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff301ba90 by thread T5:
    [failed to restore the stack]

  Location is heap block of size 296 at 0xfffff301ba80 allocated by thread T5:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T5 (tid=78366, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x305c)
    #5 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff301ba98 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff301ba98 by thread T5:
    [failed to restore the stack]

  Location is heap block of size 296 at 0xfffff301ba80 allocated by thread T5:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T5 (tid=78366, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x305c)
    #5 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff301baa0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff301baa0 by thread T5:
    [failed to restore the stack]

  Location is heap block of size 296 at 0xfffff301ba80 allocated by thread T5:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T5 (tid=78366, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x305c)
    #5 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3015cc0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3015cc0 by thread T4:

  Location is heap block of size 296 at 0xfffff3015cc0 allocated by thread T4:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T4 (tid=78365, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3015cd0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3015cd0 by thread T4:

  Location is heap block of size 296 at 0xfffff3015cc0 allocated by thread T4:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T4 (tid=78365, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3015cd8 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3015cd8 by thread T4:

  Location is heap block of size 296 at 0xfffff3015cc0 allocated by thread T4:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T4 (tid=78365, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3015ce0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3015ce0 by thread T4:

  Location is heap block of size 296 at 0xfffff3015cc0 allocated by thread T4:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T4 (tid=78365, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff30571c0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30571c0 by thread T4 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff30571c0 allocated by thread T4:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T4 (tid=78365, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff30571d0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30571d0 by thread T4 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff30571c0 allocated by thread T4:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T4 (tid=78365, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff30571d8 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30571d8 by thread T4 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff30571c0 allocated by thread T4:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T4 (tid=78365, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff30571e0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30571e0 by thread T4 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff30571c0 allocated by thread T4:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T4 (tid=78365, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3055640 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3055640 by thread T4:

  Location is heap block of size 296 at 0xfffff3055640 allocated by thread T4:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T4 (tid=78365, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3055650 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3055650 by thread T4:

  Location is heap block of size 296 at 0xfffff3055640 allocated by thread T4:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T4 (tid=78365, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3055658 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3055658 by thread T4:

  Location is heap block of size 296 at 0xfffff3055640 allocated by thread T4:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T4 (tid=78365, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3055660 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3055660 by thread T4:

  Location is heap block of size 296 at 0xfffff3055640 allocated by thread T4:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T4 (tid=78365, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3010400 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3010400 by thread T3:

  Location is heap block of size 296 at 0xfffff3010400 allocated by thread T3:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T3 (tid=78364, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3010410 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3010410 by thread T3:

  Location is heap block of size 296 at 0xfffff3010400 allocated by thread T3:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T3 (tid=78364, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3010418 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3010418 by thread T3:

  Location is heap block of size 296 at 0xfffff3010400 allocated by thread T3:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T3 (tid=78364, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3010420 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3010420 by thread T3:

  Location is heap block of size 296 at 0xfffff3010400 allocated by thread T3:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T3 (tid=78364, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff305a280 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff305a280 by thread T3:

  Location is heap block of size 296 at 0xfffff305a280 allocated by thread T3:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T3 (tid=78364, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff305a290 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff305a290 by thread T3:

  Location is heap block of size 296 at 0xfffff305a280 allocated by thread T3:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T3 (tid=78364, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff305a298 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff305a298 by thread T3:

  Location is heap block of size 296 at 0xfffff305a280 allocated by thread T3:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T3 (tid=78364, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff305a2a0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff305a2a0 by thread T3:

  Location is heap block of size 296 at 0xfffff305a280 allocated by thread T3:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T3 (tid=78364, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3059b00 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3059b00 by thread T3:

  Location is heap block of size 296 at 0xfffff3059b00 allocated by thread T3:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T3 (tid=78364, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Write of size 1 at 0xaaaaaaac3288 by main thread (mutexes: write M13):
    #0 AsyncQueue::stop() /root/code/C++/MyLog/src/Log.cpp:154 (SingleLog+0x7e44)
    #1 Logger::~Logger() /root/code/C++/MyLog/src/Log.cpp:10 (SingleLog+0x70b4)
    #2 cxa_at_exit_wrapper ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:393 (libtsan.so.0+0x2e240)

  Previous read of size 1 at 0xaaaaaaac3288 by thread T1 (mutexes: write M13):
    #0 operator() /root/code/C++/MyLog/src/Log.cpp:143 (SingleLog+0x7c5c)
    #1 wait_until<std::chrono::_V2::steady_clock, std::chrono::duration<long int, std::ratio<1, 1000000000> >, AsyncQueue::swapBuffer()::<lambda()> > /usr/include/c++/10/condition_variable:157 (SingleLog+0x810c)
    #2 wait_for<long int, std::ratio<1, 1000>, AsyncQueue::swapBuffer()::<lambda()> > /usr/include/c++/10/condition_variable:185 (SingleLog+0x806c)
    #3 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:140 (SingleLog+0x7d0c)
    #4 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #5 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #6 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #7 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #8 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #9 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #10 <null> <null> (libstdc++.so.6+0xccf98)

  Location is global 'Logger::instance()::inst' of size 696 at 0xaaaaaaac3020 (SingleLog+0x000000023288)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:154 in AsyncQueue::stop()
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3059b10 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3059b10 by thread T3:

  Location is heap block of size 296 at 0xfffff3059b00 allocated by thread T3:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T3 (tid=78364, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3059b18 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3059b18 by thread T3:

  Location is heap block of size 296 at 0xfffff3059b00 allocated by thread T3:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T3 (tid=78364, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3059b20 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3059b20 by thread T3:

  Location is heap block of size 296 at 0xfffff3059b00 allocated by thread T3:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T3 (tid=78364, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff304b280 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff304b280 by thread T17 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff304b280 allocated by thread T17:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T17 (tid=78358, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff304b290 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff304b290 by thread T17 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff304b280 allocated by thread T17:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T17 (tid=78358, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff304b298 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff304b298 by thread T17 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff304b280 allocated by thread T17:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T17 (tid=78358, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff304b2a0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff304b2a0 by thread T17 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff304b280 allocated by thread T17:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T17 (tid=78358, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3035200 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3035200 by thread T12:

  Location is heap block of size 296 at 0xfffff3035200 allocated by thread T12:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T12 (tid=78353, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3035210 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3035210 by thread T12:

  Location is heap block of size 296 at 0xfffff3035200 allocated by thread T12:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T12 (tid=78353, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3035218 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3035218 by thread T12:

  Location is heap block of size 296 at 0xfffff3035200 allocated by thread T12:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T12 (tid=78353, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3035220 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 4 at 0xfffff3035220 by thread T12:

  Location is heap block of size 296 at 0xfffff3035200 allocated by thread T12:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T12 (tid=78353, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 1 at 0xfffff3035224 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 1 at 0xfffff3035224 by thread T12:

  Location is heap block of size 296 at 0xfffff3035200 allocated by thread T12:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T12 (tid=78353, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3025300 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3025300 by thread T8:

  Location is heap block of size 296 at 0xfffff3025300 allocated by thread T8:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T8 (tid=78349, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3025310 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3025310 by thread T8:

  Location is heap block of size 296 at 0xfffff3025300 allocated by thread T8:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T8 (tid=78349, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3025318 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3025318 by thread T8:

  Location is heap block of size 296 at 0xfffff3025300 allocated by thread T8:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T8 (tid=78349, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3025320 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 4 at 0xfffff3025320 by thread T8:

  Location is heap block of size 296 at 0xfffff3025300 allocated by thread T8:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T8 (tid=78349, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 1 at 0xfffff3025324 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 1 at 0xfffff3025324 by thread T8:

  Location is heap block of size 296 at 0xfffff3025300 allocated by thread T8:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T8 (tid=78349, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3051540 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3051540 by thread T19 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3051540 allocated by thread T19:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T19 (tid=78360, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3051550 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3051550 by thread T19 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3051540 allocated by thread T19:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T19 (tid=78360, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3051558 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3051558 by thread T19 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3051540 allocated by thread T19:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T19 (tid=78360, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3051560 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3051560 by thread T19 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3051540 allocated by thread T19:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T19 (tid=78360, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3066a80 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3066a80 by thread T19:

  Location is heap block of size 296 at 0xfffff3066a80 allocated by thread T19:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T19 (tid=78360, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3066a90 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3066a90 by thread T19:

  Location is heap block of size 296 at 0xfffff3066a80 allocated by thread T19:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T19 (tid=78360, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3066a98 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3066a98 by thread T19:

  Location is heap block of size 296 at 0xfffff3066a80 allocated by thread T19:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T19 (tid=78360, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3066aa0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3066aa0 by thread T19:

  Location is heap block of size 296 at 0xfffff3066a80 allocated by thread T19:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T19 (tid=78360, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff304ab00 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff304ab00 by thread T17 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff304ab00 allocated by thread T17:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T17 (tid=78358, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff304ab10 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff304ab10 by thread T17 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff304ab00 allocated by thread T17:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T17 (tid=78358, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff304ab18 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff304ab18 by thread T17 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff304ab00 allocated by thread T17:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T17 (tid=78358, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff304ab20 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff304ab20 by thread T17 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff304ab00 allocated by thread T17:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T17 (tid=78358, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff304d800 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff304d800 by thread T18 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff304d800 allocated by thread T18:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T18 (tid=78359, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff304d810 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff304d810 by thread T18 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff304d800 allocated by thread T18:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T18 (tid=78359, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff304d818 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff304d818 by thread T18 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff304d800 allocated by thread T18:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T18 (tid=78359, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff304d820 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff304d820 by thread T18 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff304d800 allocated by thread T18:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T18 (tid=78359, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3077240 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3077240 by thread T18:

  Location is heap block of size 296 at 0xfffff3077240 allocated by thread T18:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T18 (tid=78359, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3077250 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3077250 by thread T18:

  Location is heap block of size 296 at 0xfffff3077240 allocated by thread T18:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T18 (tid=78359, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3077258 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3077258 by thread T18:

  Location is heap block of size 296 at 0xfffff3077240 allocated by thread T18:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T18 (tid=78359, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3077260 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3077260 by thread T18:

  Location is heap block of size 296 at 0xfffff3077240 allocated by thread T18:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T18 (tid=78359, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff307a5a0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 4 at 0xfffff307a5a0 by thread T12:

  Location is heap block of size 296 at 0xfffff307a580 allocated by thread T12:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T12 (tid=78353, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 1 at 0xfffff307a5a4 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 1 at 0xfffff307a5a4 by thread T12:

  Location is heap block of size 296 at 0xfffff307a580 allocated by thread T12:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T12 (tid=78353, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff307a440 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff307a440 by thread T12:

  Location is heap block of size 296 at 0xfffff307a440 allocated by thread T12:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T12 (tid=78353, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff307a450 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff307a450 by thread T12:

  Location is heap block of size 296 at 0xfffff307a440 allocated by thread T12:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T12 (tid=78353, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff307a458 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff307a458 by thread T12:

  Location is heap block of size 296 at 0xfffff307a440 allocated by thread T12:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T12 (tid=78353, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3077c40 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3077c40 by thread T12 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3077c40 allocated by thread T12:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T12 (tid=78353, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3077c50 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3077c50 by thread T12 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3077c40 allocated by thread T12:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T12 (tid=78353, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3077c58 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3077c58 by thread T12 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3077c40 allocated by thread T12:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T12 (tid=78353, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3077c60 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3077c60 by thread T12 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3077c40 allocated by thread T12:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T12 (tid=78353, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff301d380 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff301d380 by thread T6:

  Location is heap block of size 296 at 0xfffff301d380 allocated by thread T6:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T6 (tid=78347, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff301d390 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff301d390 by thread T6:

  Location is heap block of size 296 at 0xfffff301d380 allocated by thread T6:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T6 (tid=78347, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff301d398 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff301d398 by thread T6:

  Location is heap block of size 296 at 0xfffff301d380 allocated by thread T6:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T6 (tid=78347, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff301d3a0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff301d3a0 by thread T6:

  Location is heap block of size 296 at 0xfffff301d380 allocated by thread T6:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T6 (tid=78347, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff306e660 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 4 at 0xfffff306e660 by thread T10:

  Location is heap block of size 296 at 0xfffff306e640 allocated by thread T10:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T10 (tid=78351, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 1 at 0xfffff306e664 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 1 at 0xfffff306e664 by thread T10:

  Location is heap block of size 296 at 0xfffff306e640 allocated by thread T10:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T10 (tid=78351, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff306e500 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff306e500 by thread T10:

  Location is heap block of size 296 at 0xfffff306e500 allocated by thread T10:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T10 (tid=78351, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff306e510 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff306e510 by thread T10:

  Location is heap block of size 296 at 0xfffff306e500 allocated by thread T10:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T10 (tid=78351, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff306e518 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff306e518 by thread T10:

  Location is heap block of size 296 at 0xfffff306e500 allocated by thread T10:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T10 (tid=78351, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 _M_realloc_insert<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x3234)
    #5 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x2fb0)
    #6 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3072620 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 4 at 0xfffff3072620 by thread T8:

  Location is heap block of size 296 at 0xfffff3072600 allocated by thread T8:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T8 (tid=78349, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 1 at 0xfffff3072624 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 1 at 0xfffff3072624 by thread T8:

  Location is heap block of size 296 at 0xfffff3072600 allocated by thread T8:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T8 (tid=78349, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff30724c0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30724c0 by thread T8:

  Location is heap block of size 296 at 0xfffff30724c0 allocated by thread T8:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T8 (tid=78349, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff30724d0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30724d0 by thread T8:

  Location is heap block of size 296 at 0xfffff30724c0 allocated by thread T8:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T8 (tid=78349, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff30724d8 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30724d8 by thread T8:

  Location is heap block of size 296 at 0xfffff30724c0 allocated by thread T8:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T8 (tid=78349, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3019780 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3019780 by thread T5:

  Location is heap block of size 296 at 0xfffff3019780 allocated by thread T5:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T5 (tid=78366, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x305c)
    #5 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3019790 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3019790 by thread T5:

  Location is heap block of size 296 at 0xfffff3019780 allocated by thread T5:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T5 (tid=78366, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x305c)
    #5 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3019798 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3019798 by thread T5:

  Location is heap block of size 296 at 0xfffff3019780 allocated by thread T5:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T5 (tid=78366, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x305c)
    #5 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff30197a0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 4 at 0xfffff30197a0 by thread T5:

  Location is heap block of size 296 at 0xfffff3019780 allocated by thread T5:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T5 (tid=78366, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x305c)
    #5 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 1 at 0xfffff30197a4 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 1 at 0xfffff30197a4 by thread T5:

  Location is heap block of size 296 at 0xfffff3019780 allocated by thread T5:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T5 (tid=78366, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x305c)
    #5 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff307e7c0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff307e7c0 by thread T14 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff307e7c0 allocated by thread T14:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T14 (tid=78355, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff307e7d0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff307e7d0 by thread T14 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff307e7c0 allocated by thread T14:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T14 (tid=78355, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff307e7d8 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff307e7d8 by thread T14 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff307e7c0 allocated by thread T14:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T14 (tid=78355, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff307e7e0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff307e7e0 by thread T14 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff307e7c0 allocated by thread T14:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T14 (tid=78355, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff30412a0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 4 at 0xfffff30412a0 by thread T15:

  Location is heap block of size 296 at 0xfffff3041280 allocated by thread T15:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T15 (tid=78356, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 1 at 0xfffff30412a4 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 1 at 0xfffff30412a4 by thread T15:

  Location is heap block of size 296 at 0xfffff3041280 allocated by thread T15:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T15 (tid=78356, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3041140 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3041140 by thread T15:

  Location is heap block of size 296 at 0xfffff3041140 allocated by thread T15:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T15 (tid=78356, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3041150 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3041150 by thread T15:

  Location is heap block of size 296 at 0xfffff3041140 allocated by thread T15:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T15 (tid=78356, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3041158 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3041158 by thread T15:

  Location is heap block of size 296 at 0xfffff3041140 allocated by thread T15:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T15 (tid=78356, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff30391c0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30391c0 by thread T13:

  Location is heap block of size 296 at 0xfffff30391c0 allocated by thread T13:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T13 (tid=78354, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff30391d0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30391d0 by thread T13:

  Location is heap block of size 296 at 0xfffff30391c0 allocated by thread T13:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T13 (tid=78354, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff30391d8 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30391d8 by thread T13:

  Location is heap block of size 296 at 0xfffff30391c0 allocated by thread T13:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T13 (tid=78354, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff30391e0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 4 at 0xfffff30391e0 by thread T13:

  Location is heap block of size 296 at 0xfffff30391c0 allocated by thread T13:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T13 (tid=78354, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 1 at 0xfffff30391e4 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 1 at 0xfffff30391e4 by thread T13:

  Location is heap block of size 296 at 0xfffff30391c0 allocated by thread T13:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T13 (tid=78354, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff305cf80 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff305cf80 by thread T20:

  Location is heap block of size 296 at 0xfffff305cf80 allocated by thread T20:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T20 (tid=78361, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff305cf90 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff305cf90 by thread T20:

  Location is heap block of size 296 at 0xfffff305cf80 allocated by thread T20:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T20 (tid=78361, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff305cf98 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff305cf98 by thread T20:

  Location is heap block of size 296 at 0xfffff305cf80 allocated by thread T20:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T20 (tid=78361, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff305cfa0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 4 at 0xfffff305cfa0 by thread T20:

  Location is heap block of size 296 at 0xfffff305cf80 allocated by thread T20:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T20 (tid=78361, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 1 at 0xfffff305cfa4 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 1 at 0xfffff305cfa4 by thread T20:

  Location is heap block of size 296 at 0xfffff305cf80 allocated by thread T20:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T20 (tid=78361, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3048320 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 4 at 0xfffff3048320 by thread T17:

  Location is heap block of size 296 at 0xfffff3048300 allocated by thread T17:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T17 (tid=78358, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 1 at 0xfffff3048324 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 1 at 0xfffff3048324 by thread T17:

  Location is heap block of size 296 at 0xfffff3048300 allocated by thread T17:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T17 (tid=78358, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff30481c0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30481c0 by thread T17:

  Location is heap block of size 296 at 0xfffff30481c0 allocated by thread T17:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T17 (tid=78358, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff30481d0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30481d0 by thread T17:

  Location is heap block of size 296 at 0xfffff30481c0 allocated by thread T17:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T17 (tid=78358, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff30481d8 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30481d8 by thread T17:

  Location is heap block of size 296 at 0xfffff30481c0 allocated by thread T17:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T17 (tid=78358, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3082780 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3082780 by thread T7:

  Location is heap block of size 296 at 0xfffff3082780 allocated by thread T7:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T7 (tid=78348, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3082790 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3082790 by thread T7:

  Location is heap block of size 296 at 0xfffff3082780 allocated by thread T7:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T7 (tid=78348, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3082798 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3082798 by thread T7:

  Location is heap block of size 296 at 0xfffff3082780 allocated by thread T7:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T7 (tid=78348, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff30827a0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30827a0 by thread T7:

  Location is heap block of size 296 at 0xfffff3082780 allocated by thread T7:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T7 (tid=78348, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3067d40 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3067d40 by thread T11 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3067d40 allocated by thread T11:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T11 (tid=78352, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3067d50 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3067d50 by thread T11 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3067d40 allocated by thread T11:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T11 (tid=78352, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3067d58 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3067d58 by thread T11 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3067d40 allocated by thread T11:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T11 (tid=78352, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3067d60 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3067d60 by thread T11 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3067d40 allocated by thread T11:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T11 (tid=78352, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff306fcc0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff306fcc0 by thread T8:

  Location is heap block of size 296 at 0xfffff306fcc0 allocated by thread T8:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T8 (tid=78349, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff306fcd0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff306fcd0 by thread T8:

  Location is heap block of size 296 at 0xfffff306fcc0 allocated by thread T8:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T8 (tid=78349, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff306fcd8 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff306fcd8 by thread T8:

  Location is heap block of size 296 at 0xfffff306fcc0 allocated by thread T8:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T8 (tid=78349, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff306fce0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff306fce0 by thread T8:

  Location is heap block of size 296 at 0xfffff306fcc0 allocated by thread T8:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T8 (tid=78349, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff308a9a0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 4 at 0xfffff308a9a0 by thread T20:

  Location is heap block of size 296 at 0xfffff308a980 allocated by thread T20:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T20 (tid=78361, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 1 at 0xfffff308a9a4 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 1 at 0xfffff308a9a4 by thread T20:

  Location is heap block of size 296 at 0xfffff308a980 allocated by thread T20:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T20 (tid=78361, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff308a840 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff308a840 by thread T20:

  Location is heap block of size 296 at 0xfffff308a840 allocated by thread T20:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T20 (tid=78361, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff308a850 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff308a850 by thread T20:

  Location is heap block of size 296 at 0xfffff308a840 allocated by thread T20:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T20 (tid=78361, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff308a858 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff308a858 by thread T20:

  Location is heap block of size 296 at 0xfffff308a840 allocated by thread T20:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T20 (tid=78361, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff308bb20 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 4 at 0xfffff308bb20 by thread T21:

  Location is heap block of size 296 at 0xfffff308bb00 allocated by thread T21:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T21 (tid=78362, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 1 at 0xfffff308bb24 by thread T1:
    #0 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:384 (libtsan.so.0+0x35b08)
    #1 strlen ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:376 (libtsan.so.0+0x35b08)
    #2 std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*) <null> (libstdc++.so.6+0x12991c)
    #3 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #4 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #5 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #6 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #7 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #8 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #9 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 1 at 0xfffff308bb24 by thread T21:

  Location is heap block of size 296 at 0xfffff308bb00 allocated by thread T21:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T21 (tid=78362, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race (/lib/aarch64-linux-gnu/libstdc++.so.6+0x12991c) in std::basic_ostream<char, std::char_traits<char> >& std::operator<< <std::char_traits<char> >(std::basic_ostream<char, std::char_traits<char> >&, char const*)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff308b9c0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff308b9c0 by thread T21:

  Location is heap block of size 296 at 0xfffff308b9c0 allocated by thread T21:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T21 (tid=78362, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff308b9d0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff308b9d0 by thread T21:

  Location is heap block of size 296 at 0xfffff308b9c0 allocated by thread T21:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T21 (tid=78362, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff308b9d8 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff308b9d8 by thread T21:

  Location is heap block of size 296 at 0xfffff308b9c0 allocated by thread T21:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T21 (tid=78362, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3096a00 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3096a00 by thread T21 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3096a00 allocated by thread T21:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T21 (tid=78362, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3096a10 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3096a10 by thread T21 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3096a00 allocated by thread T21:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T21 (tid=78362, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3096a18 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3096a18 by thread T21 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3096a00 allocated by thread T21:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T21 (tid=78362, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3096a20 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3096a20 by thread T21 (mutexes: write M13):

  Location is heap block of size 296 at 0xfffff3096a00 allocated by thread T21:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:22 (SingleLog+0x2524)
    #3 __invoke_impl<void, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x45c4)
    #4 __invoke<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4454)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x42d4)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x4214)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4168)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Mutex M13 (0xaaaaaaac3228) created at:
    #0 pthread_mutex_lock ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:4165 (libtsan.so.0+0x54ab4)
    #1 __gthread_mutex_lock /usr/include/aarch64-linux-gnu/c++/10/bits/gthr-default.h:749 (SingleLog+0x81d8)
    #2 std::mutex::lock() /usr/include/c++/10/bits/std_mutex.h:100 (SingleLog+0x83b8)
    #3 std::unique_lock<std::mutex>::lock() /usr/include/c++/10/bits/unique_lock.h:138 (SingleLog+0xa448)
    #4 std::unique_lock<std::mutex>::unique_lock(std::mutex&) /usr/include/c++/10/bits/unique_lock.h:68 (SingleLog+0x9474)
    #5 AsyncQueue::swapBuffer() /root/code/C++/MyLog/src/Log.cpp:137 (SingleLog+0x7cd0)
    #6 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:31 (SingleLog+0x7290)
    #7 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #8 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #9 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #10 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #11 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #12 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T21 (tid=78362, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x38e0)
    #3 construct<std::thread, Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x312c)
    #4 emplace_back<Test_HighConcurrencyShortThreads()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:115 (SingleLog+0x2f5c)
    #5 Test_HighConcurrencyShortThreads() /root/code/C++/MyLog/test/test_singlelog.cpp:19 (SingleLog+0x2630)
    #6 main /root/code/C++/MyLog/test/test_singlelog.cpp:106 (SingleLog+0x2e40)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3096280 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:67 (SingleLog+0x761c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3096280 by thread T22:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:83 (SingleLog+0x2b60)
    #3 __invoke_impl<void, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x450c)
    #4 __invoke<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4394)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x4274)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x41bc)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4114)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Location is heap block of size 296 at 0xfffff3096280 allocated by thread T22:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:83 (SingleLog+0x2b60)
    #3 __invoke_impl<void, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x450c)
    #4 __invoke<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4394)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x4274)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x41bc)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4114)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T22 (tid=78367, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:67 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff3096290 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:72 (SingleLog+0x76d4)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3096290 by thread T22:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:83 (SingleLog+0x2b60)
    #3 __invoke_impl<void, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x450c)
    #4 __invoke<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4394)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x4274)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x41bc)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4114)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Location is heap block of size 296 at 0xfffff3096280 allocated by thread T22:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:83 (SingleLog+0x2b60)
    #3 __invoke_impl<void, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x450c)
    #4 __invoke<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4394)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x4274)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x41bc)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4114)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T22 (tid=78367, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:72 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 8 at 0xfffff3096298 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x772c)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff3096298 by thread T22:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:83 (SingleLog+0x2b60)
    #3 __invoke_impl<void, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x450c)
    #4 __invoke<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4394)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x4274)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x41bc)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4114)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Location is heap block of size 296 at 0xfffff3096280 allocated by thread T22:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:83 (SingleLog+0x2b60)
    #3 __invoke_impl<void, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x450c)
    #4 __invoke<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4394)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x4274)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x41bc)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4114)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T22 (tid=78367, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
==================
WARNING: ThreadSanitizer: data race (pid=78339)
  Read of size 4 at 0xfffff30962a0 by thread T1:
    #0 Logger::Write2File(LogEntry const&) /root/code/C++/MyLog/src/Log.cpp:73 (SingleLog+0x7764)
    #1 Logger::BackendLoop() /root/code/C++/MyLog/src/Log.cpp:36 (SingleLog+0x72e8)
    #2 void std::__invoke_impl<void, void (Logger::*)(), Logger*>(std::__invoke_memfun_deref, void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:73 (SingleLog+0xd0ec)
    #3 std::__invoke_result<void (Logger::*)(), Logger*>::type std::__invoke<void (Logger::*)(), Logger*>(void (Logger::*&&)(), Logger*&&) /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0xcf5c)
    #4 void std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::_M_invoke<0ul, 1ul>(std::_Index_tuple<0ul, 1ul>) /usr/include/c++/10/thread:264 (SingleLog+0xce3c)
    #5 std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> >::operator()() /usr/include/c++/10/thread:271 (SingleLog+0xcdc4)
    #6 std::thread::_State_impl<std::thread::_Invoker<std::tuple<void (Logger::*)(), Logger*> > >::_M_run() /usr/include/c++/10/thread:215 (SingleLog+0xcd70)
    #7 <null> <null> (libstdc++.so.6+0xccf98)

  Previous write of size 8 at 0xfffff30962a0 by thread T22:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:83 (SingleLog+0x2b60)
    #3 __invoke_impl<void, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x450c)
    #4 __invoke<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4394)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x4274)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x41bc)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4114)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Location is heap block of size 296 at 0xfffff3096280 allocated by thread T22:
    #0 operator new(unsigned long) ../../../../src/libsanitizer/tsan/tsan_new_delete.cpp:64 (libtsan.so.0+0x8fd3c)
    #1 Logger::log(LogLevel, char const*, int, char const*, ...) /root/code/C++/MyLog/src/Log.cpp:48 (SingleLog+0x7408)
    #2 operator() /root/code/C++/MyLog/test/test_singlelog.cpp:83 (SingleLog+0x2b60)
    #3 __invoke_impl<void, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:60 (SingleLog+0x450c)
    #4 __invoke<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/invoke.h:95 (SingleLog+0x4394)
    #5 _M_invoke<0> /usr/include/c++/10/thread:264 (SingleLog+0x4274)
    #6 operator() /usr/include/c++/10/thread:271 (SingleLog+0x41bc)
    #7 _M_run /usr/include/c++/10/thread:215 (SingleLog+0x4114)
    #8 <null> <null> (libstdc++.so.6+0xccf98)

  Thread T1 (tid=78342, running) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 Logger::Logger() /root/code/C++/MyLog/src/Log.cpp:6 (SingleLog+0x6fec)
    #3 Logger::instance() <null> (SingleLog+0x4b54)
    #4 main /root/code/C++/MyLog/test/test_singlelog.cpp:104 (SingleLog+0x2e18)

  Thread T22 (tid=78367, finished) created by main thread at:
    #0 pthread_create ../../../../src/libsanitizer/tsan/tsan_interceptors_posix.cpp:962 (libtsan.so.0+0x61880)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) <null> (libstdc++.so.6+0xcd2bc)
    #2 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/ext/new_allocator.h:156 (SingleLog+0x3974)
    #3 construct<std::thread, Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/alloc_traits.h:512 (SingleLog+0x3504)
    #4 _M_realloc_insert<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:449 (SingleLog+0x360c)
    #5 emplace_back<Test_ThreadIDUniqueness()::<lambda()> > /usr/include/c++/10/bits/vector.tcc:121 (SingleLog+0x30b0)
    #6 Test_ThreadIDUniqueness() /root/code/C++/MyLog/test/test_singlelog.cpp:76 (SingleLog+0x2c48)
    #7 main /root/code/C++/MyLog/test/test_singlelog.cpp:109 (SingleLog+0x2e4c)

SUMMARY: ThreadSanitizer: data race /root/code/C++/MyLog/src/Log.cpp:73 in Logger::Write2File(LogEntry const&)
==================
ThreadSanitizer: reported 167 warnings
